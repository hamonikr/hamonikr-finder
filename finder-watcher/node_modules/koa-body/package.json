{
  "_from": "koa-body",
  "_id": "koa-body@4.1.1",
  "_inBundle": false,
  "_integrity": "sha512-rLb/KVD8qplEcK8Qsu6F4Xw+uHkmx3MWogDVmMX07DpjXizhw3pOEp1ja1MqqAcl0ei75AsrbGVDlySmsUrreA==",
  "_location": "/koa-body",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "koa-body",
    "fetchSpec": "latest",
    "name": "koa-body",
    "raw": "koa-body",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#DEV:/",
    "#USER"
  ],
  "_resolved": "https://registry.npmjs.org/koa-body/-/koa-body-4.1.1.tgz",
  "_shasum": "50686d290891fc6f1acb986cf7cfcd605f855ef0",
  "_spec": "koa-body",
  "_where": "/home/rnd/rnd_watch/watch/test",
  "author": {
    "email": "dlau00@gmail.com",
    "name": "Daryl Lau",
    "url": "https://github.com/dlau"
  },
  "bugs": {
    "url": "https://github.com/dlau/koa-body/issues"
  },
  "bundleDependencies": false,
  "contributors": [
    {
      "name": "Daryl Lau",
      "email": "dlau00@gmail.com",
      "url": "https://github.com/dlau"
    },
    {
      "name": "Charlike Mike Reagent",
      "email": "mameto_100@mail.bg",
      "url": "https://github.com/tunnckoCore"
    }
  ],
  "dependencies": {
    "@types/formidable": "^1.0.31",
    "co-body": "^5.1.1",
    "formidable": "^1.1.1"
  },
  "deprecated": false,
  "description": "A Koa body parser middleware. Supports multipart, urlencoded and JSON request bodies.",
  "devDependencies": {
    "@types/koa": "^2.0.39",
    "koa": "^2.0.0",
    "koa-router": "^7.0.1",
    "mocha": "5.2.0",
    "should": "13.2.1",
    "sinon": "^7.2.2",
    "supertest": "3.1.0"
  },
  "files": [
    "LICENSE",
    "README.md",
    "index.d.ts",
    "index.js",
    "package.json",
    "unparsed.js"
  ],
  "homepage": "https://github.com/dlau/koa-body#readme",
  "keywords": [
    "body",
    "form",
    "json",
    "koa",
    "multipart",
    "parser",
    "urlencoded"
  ],
  "license": "MIT",
  "main": "index.js",
  "name": "koa-body",
  "optionalDependencies": {},
  "readme": "koa-body [![Build Status](https://travis-ci.org/dlau/koa-body.svg?branch=koa2)](https://travis-ci.org/dlau/koa-body) [![Dependencies Status](https://david-dm.org/dlau/koa-body/status.svg)](https://david-dm.org/dlau/koa-body) [![KoaJs Slack](https://img.shields.io/badge/Koa.Js-Slack%20Channel-Slack.svg?longCache=true)](https://communityinviter.com/apps/koa-js/koajs)\n================\n\n> A full-featured [`koa`](https://github.com/koajs/koa) body parser middleware. Supports `multipart`, `urlencoded`, and `json` request bodies. Provides the same functionality as Express's bodyParser - [`multer`](https://github.com/expressjs/multer).\n\n## Install\n>Install with [npm](https://github.com/npm/npm)\n\n```\nnpm install koa-body\n```\n\n## Features\n- can handle three type requests\n  * **multipart/form-data**\n  * **application/x-www-urlencoded**\n  * **application/json**\n  * **application/json-patch+json**\n  * **application/vnd.api+json**\n  * **application/csp-report**\n- option for patch to Koa or Node, or either\n- file uploads\n- body, fields and files size limiting\n\n## Hello World - Quickstart\n\n```sh\nnpm install koa koa-body # Note that Koa requires Node.js 7.6.0+ for async/await support\n```\n\nindex.js:\n```js\nconst Koa = require('koa');\nconst koaBody = require('koa-body');\n\nconst app = new Koa();\n\napp.use(koaBody());\napp.use(ctx => {\n  ctx.body = `Request Body: ${JSON.stringify(ctx.request.body)}`;\n});\n\napp.listen(3000);\n```\n\n```sh\nnode index.js\ncurl -i http://localhost:3000/users -d \"name=test\"\n```\n\nOutput:\n```text\nHTTP/1.1 200 OK\nContent-Type: text/plain; charset=utf-8\nContent-Length: 29\nDate: Wed, 03 May 2017 02:09:44 GMT\nConnection: keep-alive\n\nRequest Body: {\"name\":\"test\"}%\n```\n\n**For a more comprehensive example, see** `examples/multipart.js`\n\n## Usage with [koa-router](https://github.com/alexmingoia/koa-router)\n> It's generally better to only parse the body as needed, if using a router that supports middleware composition, we can inject it only for certain routes.\n\n```js\nconst Koa = require('koa');\nconst app = new Koa();\nconst router = require('koa-router')();\nconst koaBody = require('koa-body');\n\nrouter.post('/users', koaBody(),\n  (ctx) => {\n    console.log(ctx.request.body);\n    // => POST body\n    ctx.body = JSON.stringify(ctx.request.body);\n  }\n);\n\napp.use(router.routes());\n\napp.listen(3000);\nconsole.log('curl -i http://localhost:3000/users -d \"name=test\"');\n```\n\n\n## Options\n> Options available for `koa-body`. Four custom options, and others are from `raw-body` and `formidable`.\n\n- `patchNode` **{Boolean}** Patch request body to Node's `ctx.req`, default `false`\n- `patchKoa` **{Boolean}** Patch request body to Koa's `ctx.request`, default `true`\n- `jsonLimit` **{String|Integer}** The byte (if integer) limit of the JSON body, default `1mb`\n- `formLimit` **{String|Integer}** The byte (if integer) limit of the form body, default `56kb`\n- `textLimit` **{String|Integer}** The byte (if integer) limit of the text body, default `56kb`\n- `encoding` **{String}** Sets encoding for incoming form fields, default `utf-8`\n- `multipart` **{Boolean}** Parse multipart bodies, default `false`\n- `urlencoded` **{Boolean}** Parse urlencoded bodies, default `true`\n- `text` **{Boolean}** Parse text bodies, default `true`\n- `json` **{Boolean}** Parse json bodies, default `true`\n- `jsonStrict` **{Boolean}** Toggles co-body strict mode; if set to true - only parses arrays or objects, default `true`\n- `includeUnparsed` **{Boolean}** Toggles co-body returnRawBody option; if set to true, for form encodedand and JSON requests the raw, unparsed requesty body will be attached to `ctx.request.body` using a `Symbol`, default `false`\n- `formidable` **{Object}** Options to pass to the formidable multipart parser\n- `onError` **{Function}** Custom error handle, if throw an error, you can customize the response - onError(error, context), default will throw\n- `strict` **{Boolean}** ***DEPRECATED*** If enabled, don't parse GET, HEAD, DELETE requests, default `true`\n- `parsedMethods` **{String[]}** Declares the HTTP methods where bodies will be parsed, default `['POST', 'PUT', 'PATCH']`. Replaces `strict` option.\n\n## A note about `parsedMethods`\n> see [http://tools.ietf.org/html/draft-ietf-httpbis-p2-semantics-19#section-6.3](http://tools.ietf.org/html/draft-ietf-httpbis-p2-semantics-19#section-6.3)\n- `GET`, `HEAD`, and `DELETE` requests have no defined semantics for the request body, but this doesn't mean they may not be valid in certain use cases.\n- koa-body is strict by default, parsing only `POST`, `PUT`, and `PATCH` requests\n\n## A note about unparsed request bodies\nSome applications require crytopgraphic verification of request bodies, for example webhooks from slack or stripe. The unparsed body can be accessed if `includeUnparsed` is `true` in koa-body's options. When enabled, import the symbol for accessing the request body from `unparsed = require('koa-body/unparsed.js')`, or define your own accessor using `unparsed = Symbol.for('unparsedBody')`. Then the unparsed body is available using `ctx.request.body[unparsed]`.\n\n## Some options for formidable\n> See [node-formidable](https://github.com/felixge/node-formidable) for a full list of options\n- `maxFields` **{Integer}** Limits the number of fields that the querystring parser will decode, default `1000`\n- `maxFieldsSize` **{Integer}** Limits the amount of memory all fields together (except files) can allocate in bytes. If this value is exceeded, an 'error' event is emitted, default `2mb (2 * 1024 * 1024)`\n- `uploadDir` **{String}** Sets the directory for placing file uploads in, default `os.tmpDir()`\n- `keepExtensions` **{Boolean}** Files written to `uploadDir` will include the extensions of the original files, default `false`\n- `hash` **{String}** If you want checksums calculated for incoming files, set this to either `'sha1'` or `'md5'`, default `false`\n- `multiples` **{Boolean}** Multiple file uploads or no, default `true`\n- `onFileBegin` **{Function}** Special callback on file begin. The function is executed directly by formidable. It can be used to rename files before saving them to disk. [See the docs](https://github.com/felixge/node-formidable#filebegin)\n\n## Changelog\nPlease see the [Changelog](./CHANGELOG.md) for a summary of changes.\n\n## Tests\n```\n$ npm test\n```\n\n## License\nThe MIT License, 2014 [Charlike Mike Reagent](https://github.com/tunnckoCore) ([@tunnckoCore](https://twitter.com/tunnckoCore)) and [Daryl Lau](https://github.com/dlau) ([@daryllau](https://twitter.com/daryllau))\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/dlau/koa-body.git"
  },
  "scripts": {
    "examples-koa-router": "node examples/koa-router.js",
    "examples-multer": "node examples/multer.js",
    "test": "mocha"
  },
  "types": "./index.d.ts",
  "version": "4.1.1"
}
